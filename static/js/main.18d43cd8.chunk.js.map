{"version":3,"sources":["components/moonsheet/helper.js","components/moonsheet/OneItem.js","components/moonsheet/ShortList.js","components/moonsheet/SheetItems.js","components/moonsheet/FilterPanel.js","lib/api.js","components/MoonSheet.js","App.js","registerServiceWorker.js","index.js"],"names":["Helper","shortNum","n","numeral","format","qty","price","reactionProfit","profit","isUnref","refinery_type","escapeRegexCharacters","str","replace","const","debounceTimeout","debounceScrollTimeout","cycles","val","name","AutocompleteMinCharacters","length","toHHMMSS","sec","secNum","parseInt","days","Math","floor","stringDay","hours","minutes","seconds","uuid","len","arguments","undefined","text","possible","i","charAt","random","manufactureQty","components","me","fme","run","portion","map","v","orig_qty","ceil","getKeys","arr","keyInArray","getAttribute","result","each","attr","indexOf","push","sort","OneItem","props","item","prices","price_input_type","price_output_type","getProfit","getProfitFunc","refineryType","efficiency","reactions","hundredRuns","price_input","price_output","eff","inputItems","inputs","list","effQuantity","quantity","amount","id","reaction","find","startsWith","outputValue","componentProfit","title","concat","react_default","a","createElement","className","key","alt","src","outputCost","refinedOutputs","forEach","outputAmount","trunc","typeId","percColor","outputValueLifeblood","style","paddingLeft","paddingRight","width","textAlign","marginRight","colSpan","ShortList","includeFuel","inputAmount","console","error","runs","getUnrefProfit","refOutputItem","sortCalcFunc","SheetItems","_this","this","Object","keys","b","diffA","diffB","sortedReactionsIds","_this$props","filter","listType","resultList","matchedOutput","lcName","input","components_moonsheet_OneItem","components_moonsheet_ShortList","sheetTitle","renderHeader","_this$props2","sortedReactions","sortReactions","getReactionsList","React","Component","ClearIcon","isVisible","onClick","handleClick","xmlns","height","viewBox","fill","fillRule","d","FilterPanel","state","value","makeFilter","e","setState","target","toLowerCase","onFilter","clearFilter","isOpened","placeholder","onChange","fontSize","FilterPanel_ClearIcon","ITEMS","join","require","stubPrices","MoonSheet","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","handleFilter","filterValue","toggleEfficiency","localStorage","setItem","JSON","stringify","toggleFuel","toggleRuns","makeSingleRun","makeHundredRuns","toggleListType","event","toggleRefineryType","priceStorage","isPricesNeedUpdate","parse","getItem","makeLowerCaseNames","updatePrices","timeStr","time","Date","getTime","now","_this2","axios","get","headers","Access-Control-Allow-Origin","then","_ref","data","buy","sell","forQuery","types","fivePercent","max","log","min","objectSpread","_this$state","effStr","FilterPanel_FilterPanel","filterOpened","Panel","bsClass","ToggleButtonGroup","bsSize","type","bsStyle","defaultValue","ToggleButton","Button","active","moonsheet_SheetItems","SearchIcon","opacity","App","toggleFilter","components_MoonSheet","isLocalhost","Boolean","window","location","hostname","match","registerValidSW","swUrl","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","catch","ReactDOM","render","src_App_0","document","getElementById","URL","process","origin","addEventListener","fetch","response","status","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker"],"mappings":"g/TAwHeA,EArHF,CACXC,SADW,SACFC,GACP,OAAOC,IAAQD,GAAGE,OAAO,YAG3BC,IALW,SAKPH,GACF,OAAOC,IAAQD,GAAGE,OAAO,QAG3BE,MATW,SASLJ,GACJ,OAAIA,EAAI,IACCC,IAAQD,GAAGE,OAAO,YAEpBD,IAAQD,GAAGE,OAAO,WAG3BG,eAhBW,SAgBIC,EAAQC,EAASC,GAC9B,MAAsB,YAAlBA,EACKF,GAAUC,EAAU,GAAK,IAAQ,GAAK,KAEtCD,GAAUC,EAAU,GAAK,IAAQ,GAAK,KAIjDE,sBAxBW,SAwBWC,GACpB,OAAOA,EAAIC,QAAQ,sBAAuB,SAG5CC,MAAO,CACLC,gBAAiB,IACjBC,sBAAuB,IACvBC,OAAQ,CACN,CACEC,KAAM,EACNC,KAAM,WAER,CACED,IAAK,EACLC,KAAM,SAER,CACED,IAAK,GACLC,KAAM,WAER,CACED,IAAK,GACLC,KAAM,aAQZC,0BAtDW,SAsDeR,GACxB,OAAOA,EAAIS,QAAU,GAGvBC,SA1DW,SA0DFC,GACP,IAAIC,EAASC,SAASF,EAAK,IAEvBG,EAAOC,KAAKC,MAAMJ,EAAS,OAC3BK,EAAY,GAEZH,EAAO,IACTF,GAAiB,MAAPE,GAGZ,IAAII,EAAQH,KAAKC,MAAMJ,EAAS,MAC5BO,EAAUJ,KAAKC,OAAOJ,EAAiB,KAARM,GAAgB,IAC/CE,EAAUR,EAAiB,KAARM,EAAyB,GAAVC,EAetC,OAbIL,EAAO,IACTG,EAAYH,EAAO,MAGjBI,EAAQ,KACVA,EAAQ,IAAMA,GAEZC,EAAU,KACZA,EAAU,IAAMA,GAEdC,EAAU,KACZA,EAAU,IAAMA,GAEXH,EAAYC,EAAQ,IAAMC,EAAU,IAAMC,GAEnDC,KAvFW,WA0FT,IAHY,IAATC,EAASC,UAAAd,OAAA,QAAAe,IAAAD,UAAA,GAAAA,UAAA,GAAH,EACLE,EAAO,GACPC,EAAW,iEACNC,EAAI,EAAGA,EAAIL,EAAKK,IACvBF,GAAQC,EAASE,OAAOb,KAAKC,MAAMD,KAAKc,SAAWH,EAASjB,SAC9D,OAAOgB,GAGTK,eA/FW,SA+FIC,GAAmD,IAAvCC,EAAuCT,UAAAd,OAAA,QAAAe,IAAAD,UAAA,GAAAA,UAAA,GAAlC,EAAGU,EAA+BV,UAAAd,OAAA,QAAAe,IAAAD,UAAA,GAAAA,UAAA,GAAzB,EAAGW,EAAsBX,UAAAd,OAAA,QAAAe,IAAAD,UAAA,GAAAA,UAAA,GAAhB,EAAGY,EAAaZ,UAAAd,OAAA,QAAAe,IAAAD,UAAA,GAAAA,UAAA,GAAH,EAM7D,OALAa,cAAIL,EAAY,SAAAM,GACdA,EAAC,IAAyB,IAAfA,EAAEC,SACTJ,EACAK,eAAKA,eAAKF,EAAEC,WAAa,IAAMN,GAAM,KAAOC,EAAMC,GAAOC,KAExDJ,GAGTS,QAxGW,SAwGHC,EAAKC,EAAYC,GACvB,IAAIC,EAAS,GAQb,OAPAC,eAAKJ,EAAK,SAAAJ,GACRQ,eAAKR,EAAEK,GAAa,SAAAI,IAC0B,IAAxCF,EAAOG,QAAQD,EAAKH,KACtBC,EAAOI,KAAKF,EAAKH,QAIhBC,EAAOK,iBCcHC,SApHC,SAACC,GAAU,IAEvBC,EAWED,EAXFC,KACAC,EAUEF,EAVFE,OACAC,EASEH,EATFG,iBACAC,EAQEJ,EARFI,kBACAC,EAOEL,EAPFK,UACAC,EAMEN,EANFM,cACA5D,EAKEsD,EALFtD,QACA6D,EAIEP,EAJFO,aACAC,EAGER,EAHFQ,WACAC,EAEET,EAFFS,UACAC,EACEV,EADFU,YAEIC,EAAcT,EAAOC,GACrBS,EAAeV,EAAOE,GACtBS,EAAML,EAAa,KAAQ,EAE3BM,EAAa7B,cAAIgB,EAAKc,OAAQ,SAAC7B,EAAGV,GACtC,IAtBiBpB,EAAM4D,EAsBjBC,EAAcrD,KAAKwB,KAAKF,EAAEgC,SAAWL,GACrCM,EAASF,EAAcN,EAAYzB,EAAEkC,IAGrCC,GA1BWjE,EA0BY8B,EAAE9B,KA1BR4D,EA0BcP,EA1BLa,eAAKN,EAAM,CAAE5D,KAAMA,KA2BnD,GAAIiE,EACF,IAAI3E,EAAU6E,qBAAWrC,EAAE9B,KAAM,SAC7BX,EAAS6D,EAAc5D,EAAd4D,CAAuBe,EAAUrB,GAC1CwB,EAAcvF,EAAOM,MAAME,GAG3BD,EAAiBP,EAAOO,eAAeC,GAAUiE,EAAc,IAAM,GAAIhE,EAAS6D,GAClFkB,EAAkBxF,EAAOM,MAAMC,GAIrC,IAAMkF,EAAK,GAAAC,OAAMzC,EAAE9B,KAAR,OAAAuE,OAAkBV,GAE7B,OACEW,EAAAC,EAAAC,cAAA,OAAKC,UAAU,MAAMC,IAAK9C,EAAE9B,MAC1BwE,EAAAC,EAAAC,cAAA,OAAKC,UAAU,8CACbH,EAAAC,EAAAC,cAAA,QAAMC,UAAU,mBACdH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,YAAYE,IAAK/C,EAAE9B,KAAM8E,IAAG,oCAAAP,OAAsCzC,EAAEkC,GAAxC,aAC3CQ,EAAAC,EAAAC,cAAA,YAAOJ,IAETE,EAAAC,EAAAC,cAAA,QAAMC,UAAU,aAAaP,GAC7BI,EAAAC,EAAAC,cAAA,QAAMC,UAAU,aAAaN,GAC7BG,EAAAC,EAAAC,cAAA,QAAMC,UAAU,aAAa9F,EAAOM,MAAM4E,QAM9CgB,EAAa,EACbzF,EACc0F,EAAenC,EAAKmB,IAC5BiB,QAAQ,SAAApC,GACd,IAAMqC,EAAe1E,KAAK2E,MA/DT,IA+DetC,EAAKiB,SA9DnB,KA+DlBiB,GAAejC,EAAOE,GAAmBH,EAAKuC,QAAUF,IAG1DH,EAAavB,EAAaX,EAAKmB,IAAMnB,EAAKiB,SAG5C,IAAMzE,EAAS4D,EAAUJ,EAAMD,GACzBwB,EAAcvF,EAAOM,MAAME,GAC3BgG,EAAYhG,GAAU,EAAI,aAAe,eAEzCD,EAAiBP,EAAOO,eAAeC,GAAUiE,EAAc,IAAM,GAAIhE,EAAS6D,GAClFmC,EAAuBzG,EAAOM,MAAMC,GAE1C,OACEoF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,MAAMY,MAAO,CAAEC,YAAa,EAAGC,aAAc,IAC1DjB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,YAAYY,MAAO,CAAEC,YAAa,EAAGC,aAAc,IAChEjB,EAAAC,EAAAC,cAAA,SAAOC,UAAU,UACfH,EAAAC,EAAAC,cAAA,aACAF,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,gBACbH,EAAAC,EAAAC,cAAA,OAAKa,MAAO,CAAEG,MAAO,SACnBlB,EAAAC,EAAAC,cAAA,OACEC,UAAU,YACVE,IAAKhC,EAAK7C,KACV8E,IAAG,oCAAAP,OAAsC1B,EAAKmB,GAA3C,cAGPQ,EAAAC,EAAAC,cAAA,OAAKa,MAAO,CAAEG,MAAO,OAAQC,UAAW,SAAxC,GAAApB,OACM1B,EAAK7C,KADX,OAAAuE,OACqB1B,EAAKiB,YAG5BU,EAAAC,EAAAC,cAAA,OAAKC,UAAWU,GACbjB,GAEHI,EAAAC,EAAAC,cAAA,OAAKC,UAAWU,GACbC,GAEHd,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aAAaY,MAAO,CAAEK,YAAa,IAC/C/G,EAAOM,MAAM4F,QAMtBP,EAAAC,EAAAC,cAAA,aACAF,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,MAAImB,QAAQ,IAAIlB,UAAU,gBACvBjB,UChFAoC,SAlCG,SAAClD,GAAU,IACnBC,EAAwDD,EAAxDC,KAAMI,EAAkDL,EAAlDK,UAAW3D,EAAuCsD,EAAvCtD,QAAS6D,EAA8BP,EAA9BO,aAAcG,EAAgBV,EAAhBU,YAC1CjE,EAAS4D,EAAUJ,EAAMD,GACzBwB,EAAcvF,EAAOM,MAAME,GAC3BgG,EAAYhG,GAAU,EAAI,eAAiB,eAE3CD,EAAiBP,EAAOO,eAAeC,GAAUiE,EAAc,IAAM,GAAIhE,EAAS6D,GAClFmC,EAAuBzG,EAAOM,MAAMC,GAGpCkF,EAAK,GAAAC,OAAM1B,EAAK7C,MAEtB,OACEwE,EAAAC,EAAAC,cAAA,OAAKE,IAAK/B,EAAKmB,GAAIW,UAAU,OAC3BH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,gEACbH,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,OACEC,UAAU,YACVE,IAAKP,EACLQ,IAAG,oCAAAP,OAAsC1B,EAAKmB,GAA3C,aAEJM,GAEHE,EAAAC,EAAAC,cAAA,OAAKC,UAAWU,GACbjB,GAEHI,EAAAC,EAAAC,cAAA,OAAKC,UAAWU,GACbC,OCpBLrC,EAAY,SAACJ,EAAMD,GAAU,IACzBG,EAAsFH,EAAtFG,iBAAkBC,EAAoEJ,EAApEI,kBAAmBF,EAAiDF,EAAjDE,OAAQM,EAAyCR,EAAzCQ,WAAY2C,EAA6BnD,EAA7BmD,YAAazC,EAAgBV,EAAhBU,YAC1E0C,EAAc,EACbnD,EAAKc,QAERsC,QAAQC,MAAM,cAAerD,GAE/B,IAAMY,EAAML,EAAa,KAAQ,EAC3B+C,EAAO7C,EAAc,IAAM,EAOjC,OANAT,EAAKc,OAAOsB,QAAQ,SAACnD,EAAGV,GACtB4E,GAAexF,KAAKwB,KAAMF,EAAEgC,SAAWhB,EAAOC,GAAkBjB,EAAEkC,IAAM,IAAMP,EAAO,OAE1EZ,EAAKiB,SAAWhB,EAAOE,GAAmBH,EAAKmB,IAEpCgC,GADPD,EAfS,IAe2B,GAEzBI,GAGxBC,EAAiB,SAACvD,EAAMD,GAAU,IAC9BG,EAAsFH,EAAtFG,iBAAkBC,EAAoEJ,EAApEI,kBAAmBF,EAAiDF,EAAjDE,OAAQM,EAAyCR,EAAzCQ,WAAY2C,EAA6BnD,EAA7BmD,YAAazC,EAAgBV,EAAhBU,YAC1E0C,EAAc,EACZvC,EAAML,EAAa,KAAQ,EAC3B+C,EAAO7C,EAAc,IAAM,EACjCT,EAAKc,OAAOsB,QAAQ,SAAAnD,GAClBkE,GAAexF,KAAKwB,KAAMF,EAAEgC,SAAWhB,EAAOC,GAAkBjB,EAAEkC,IAAM,IAAMP,EAAO,OAEvF,IAAIyB,EAAe,EAQnB,OAPgBF,EAAenC,EAAKmB,IAC5BiB,QAAQ,SAAAoB,GACd,IAAMtC,EAASvD,KAAK2E,MAAMgB,EAAOE,EAAcvC,SAjC5B,GACC,KAiCpBoB,GAAgBpC,EAAOE,GAAmBqD,EAAcjB,QAAUrB,IAGrDmB,EAAec,GADbD,EAlCS,IAkC2B,GAEzBI,GAGxBG,EAAe,SAAClB,EAAQ/B,EAAWT,GACvC,IAAMC,EAAOQ,EAAU+B,GACjB9F,EAAU6E,qBAAWtB,EAAK7C,KAAM,SAChCX,EAASC,EAAU8G,EAAevD,EAAMD,GAASK,EAAUJ,EAAMD,GACvE,OAAO/D,EAAOO,eAAeC,EAAQC,EAASsD,EAAMrD,gBA6IvCgH,wLAvIClD,GAAW,IAAAmD,EAAAC,KACvB,OAAOC,OAAOC,KAAKtD,GAAWX,KAAK,SAAC+B,EAAGmC,GACrC,IAAMC,EAAQP,EAAa7B,EAAGpB,EAAWmD,EAAK5D,OACxCkE,EAAQR,EAAaM,EAAGvD,EAAWmD,EAAK5D,OAG9C,OAAIkE,EAAQD,EACH,EACEC,EAAQD,GACT,EAEH,6CAIME,EAAoB1D,GAAW,IAAA2D,EAK1CP,KAAK7D,MAHPqE,EAF4CD,EAE5CC,OAAQlE,EAFoCiE,EAEpCjE,iBAAkBC,EAFkBgE,EAElBhE,kBAC1BF,EAH4CkE,EAG5ClE,OAAQoE,EAHoCF,EAGpCE,SAAU/D,EAH0B6D,EAG1B7D,aAAcC,EAHY4D,EAGZ5D,WAChCE,EAJ4C0D,EAI5C1D,YAAayC,EAJ+BiB,EAI/BjB,YAEf,GAAyB,IAArB1C,EAAUnD,OACZ,OAAO,KAGT,IAAMiH,EAAatF,cAAIkF,EAAoB,SAAA3B,GACzC,IAAMvC,EAAOQ,EAAU+B,GAEvB,GAAI6B,EAAQ,CACV,IAAMG,EAAgBvE,EAAKwE,OAAO7E,QAAQyE,IAAW,EACrD,GAAiB,UAAbC,IAAyBE,EAC3B,OAAO,KAGT,IADsBvE,EAAKc,OAAOO,KAAK,SAAAoD,GAAK,OAAIA,EAAMD,OAAO7E,QAAQyE,IAAW,MACzDG,EACrB,OAAO,KAIX,IAAM9H,EAAU6E,qBAAWtB,EAAK7C,KAAM,SAKtC,MAAiB,SAAbkH,EAEA1C,EAAAC,EAAAC,cAAC6C,EAAD,CACE3C,IAAKQ,EACLvC,KAAMA,EACNM,aAAcA,EACd7D,QAASA,EACT2D,UAAW3D,EAAU8G,EAAiBnD,EACtCC,cAAe,SAAA5D,GAAO,OAAIA,EAAU8G,EAAiBnD,GACrDH,OAAQA,EACRO,UAAWA,EACXN,iBAAkBA,EAClBC,kBAAmBA,EACnBI,WAAYA,EACZE,YAAaA,EACbyC,YAAaA,IAKfvB,EAAAC,EAAAC,cAAC8C,EAAD,CACE5C,IAAKQ,EACLvC,KAAMA,EACNM,aAAcA,EACd7D,QAASA,EACT2D,UAAW3D,EAAU8G,EAAiBnD,EACtCH,OAAQA,EACRC,iBAAkBA,EAClBC,kBAAmBA,EACnBI,WAAYA,EACZE,YAAaA,EACbyC,YAAaA,MAOf0B,EAAahB,KAAKiB,aAAaR,GAErC,OACE1C,EAAAC,EAAAC,cAAA,OAAKC,UAAU,OACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACbH,EAAAC,EAAAC,cAAA,SAAOC,UAAU,UACfH,EAAAC,EAAAC,cAAA,aACAF,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,UAAK+C,KAGPjD,EAAAC,EAAAC,cAAA,aACAF,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,MAAImB,QAAQ,IAAIlB,UAAU,gBACvBwC,6CAUFD,GACX,MAAiB,SAAbA,EAEA1C,EAAAC,EAAAC,cAAA,OAAKC,UAAU,4BACbH,EAAAC,EAAAC,cAAA,8BACAF,EAAAC,EAAAC,cAAA,+BACAF,EAAAC,EAAAC,cAAA,8BACAF,EAAAC,EAAAC,cAAA,2BAKJF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,uEACbH,EAAAC,EAAAC,cAAA,qBACAF,EAAAC,EAAAC,cAAA,+BACAF,EAAAC,EAAAC,cAAA,gEAKG,IAAAiD,EACuBlB,KAAK7D,MAA3BS,EADDsE,EACCtE,UACR,IAFOsE,EACY7E,OACN,OAAO,KACpB,IAAM8E,EAAkBnB,KAAKoB,cAAcxE,GAC3C,OAAOoD,KAAKqB,iBAAiBF,EAAiBvE,UApIzB0E,IAAMC,WCtDzBC,SAAY,SAAArF,GAChB,IAAM+B,EAAY/B,EAAMsF,UACpB,YACA,mBACJ,OACE1D,EAAAC,EAAAC,cAAA,OACEC,UAAWA,EAAWwD,QAASvF,EAAMwF,YACrCC,MAAM,6BAA6B3C,MAAM,KAAK4C,OAAO,KAAKC,QAAQ,iBAElE/D,EAAAC,EAAAC,cAAA,QAAM8D,KAAK,UAAUC,SAAS,UAAUC,EAAE,2bAM3BC,6MACnBC,MAAQ,CACNC,MAAO,MAGTC,WAAa,SAAAC,GACXvC,EAAKwC,SACH,CAAEH,MAAOE,EAAEE,OAAOJ,MAAMK,eACxB,kBAAM1C,EAAK5D,MAAMuG,SAAS3C,EAAKoC,MAAMC,YAIzCO,YAAc,WACZ5C,EAAKwC,SAAS,CAAEH,MAAO,KACvBrC,EAAK5D,MAAMuG,oFAKX,IADqB1C,KAAK7D,MAAlByG,SACO,OAAO,KAFf,IAICR,EAAUpC,KAAKmC,MAAfC,MAER,OACErE,EAAAC,EAAAC,cAAA,OAAKC,UAAU,OACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,iBACbH,EAAAC,EAAAC,cAAA,SACE4E,YAAY,mBACZC,SAAU9C,KAAKqC,WACfnE,UAAU,eACVY,MAAO,CAAEiE,SAAU,SACnBX,MAAOA,IAETrE,EAAAC,EAAAC,cAAC+E,EAAD,CAAWvB,UAAWW,EAAOT,YAAa3B,KAAK2C,wBAlClBrB,IAAMC,4BCLzC0B,EANgB,CACpB,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MACpF,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MACpF,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MACpF,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,MAAM,OAElCC,KAAK,KCN3BtG,EAAYuG,EAAQ,KACpBC,EAAaD,EAAQ,KA8MZE,cAtMb,SAAAA,IAAc,IAAAtD,EAAAE,OAAAqD,EAAA,EAAArD,CAAAD,KAAAqD,IACZtD,EAAAE,OAAAsD,EAAA,EAAAtD,CAAAD,KAAAC,OAAAuD,EAAA,EAAAvD,CAAAoD,GAAAI,KAAAzD,QAqFF0D,aAAe,SAAAC,GACb5D,EAAKwC,SAAS,CAAEoB,iBAvFJ5D,EA0Fd6D,iBAAmB,WAAM,IACfjH,EAAeoD,EAAKoC,MAApBxF,WACRoD,EAAKwC,SAAS,CAAE5F,YAAaA,IAC7BkH,aAAaC,QAAQ,aAAcC,KAAKC,WAAWrH,KA7FvCoD,EAgGdkE,WAAa,WAAM,IACT3E,EAAgBS,EAAKoC,MAArB7C,YACRS,EAAKwC,SAAS,CAAEjD,aAAcA,IAC9BuE,aAAaC,QAAQ,cAAeC,KAAKC,WAAW1E,KAnGxCS,EAsGdmE,WAAa,WAAM,IACTrH,EAAgBkD,EAAKoC,MAArBtF,YACRkD,EAAKwC,SAAS,CAAE1F,aAAcA,IAC9BgH,aAAaC,QAAQ,cAAeC,KAAKC,WAAWnH,IACpDA,EAAckD,EAAKoE,gBAAkBpE,EAAKqE,mBA1G9BrE,EA6GdsE,eAAiB,SAAAC,GACf,IAAM7D,EAAW6D,EAAM9B,OAAOJ,MAC1B3B,GACFV,EAAKwC,SAAS,CAAE9B,YAAYoD,aAAaC,QAAQ,WAAYrD,KAhHnDV,EAoHdwE,mBAAqB,SAAAD,GACnB,IAAM5H,EAAe4H,EAAM9B,OAAOJ,MAC9B1F,GACFqD,EAAKwC,SAAS,CAAE7F,gBAAgBmH,aAAaC,QAAQ,eAAgBpH,KApHvE,IAAI8H,EAAe,KAHP,OAIPzE,EAAK0E,uBACRD,EAAeT,KAAKW,MAAMb,aAAac,QAAQ,YAGjD5E,EAAKoC,MAAQ,CACX9F,OAAQmI,GAAgBpB,EACxB3C,SAAUoD,aAAac,QAAQ,aAAe,OAC9CjI,aAAcmH,aAAac,QAAQ,iBAAmB,UACtDhI,WAAmD,UAAvCkH,aAAac,QAAQ,cACjC9H,YAAakH,KAAKW,MAAMb,aAAac,QAAQ,kBAAmB,EAChErF,YAAayE,KAAKW,MAAMb,aAAac,QAAQ,kBAAmB,GAE9D5E,EAAKoC,MAAMtF,aACbkD,EAAKqE,kBAjBKrE,mFAsBZC,KAAK4E,qBACA5E,KAAKmC,MAAM9F,SAAU2D,KAAKyE,sBAC7BzE,KAAK6E,4DAKP,IAAMC,EAAUjB,aAAac,QAAQ,cACrC,GAAIG,EAAS,CACX,IAAMC,EAAQ,IAAIC,KAAKF,GAAUG,UAC3BC,GAAO,IAAIF,MAAQC,UACzB,GAAIF,GAASG,EAAMH,EAvCN,MAwCX,OAAO,EAGX,OAAO,yCAGM,IAAAI,EAAAnF,KDvCRoF,IAAMC,IAZG,4EAaFpC,EACZ,CAAEqC,QAAS,CAAEC,8BAA+B,OCsCzBC,KAAK,SAAAC,GAAc,IAAXC,EAAWD,EAAXC,KACnBC,EAAM,GACNC,EAAO,GACbF,EAAKlH,QAAQ,SAAApC,GACX,IAAMuC,EAASvC,EAAKuJ,IAAIE,SAASC,MAAM,GAGvCH,EAAIhH,GAAUvC,EAAKuJ,IAAII,YACvBH,EAAKjH,GAAUvC,EAAKwJ,KAAKG,YACpB3J,EAAKuJ,IAAIK,KACZxG,QAAQyG,IAAI,YAAa7J,GAEtBA,EAAKwJ,KAAKM,KACb1G,QAAQyG,IAAI,aAAc7J,KAI9B,IAAMC,EAAS,CAAEuJ,OAAMD,OACvBR,EAAK5C,SAAS,CAAElG,WAChBwH,aAAaC,QAAQ,SAAUC,KAAKC,UAAL/D,OAAAkG,EAAA,EAAAlG,CAAA,GAAoB5D,KACnDwH,aAAaC,QAAQ,aAAc,IAAIkB,gDAKzCxG,kBAAQ5B,EAAW,SAAAR,GACjBA,EAAKiB,SAAWjB,EAAKiB,SAAW,IAChCjB,EAAKc,OAAOsB,QAAQ,SAAAqC,GAAK,OAAIA,EAAMxD,SAAWwD,EAAMxD,SAAW,kDAKjEmB,kBAAQ5B,EAAW,SAAAR,GACjBA,EAAKiB,SAA2B,IAAhBjB,EAAKiB,SACrBjB,EAAKc,OAAOsB,QAAQ,SAAAqC,GAAK,OAAIA,EAAMxD,SAA4B,IAAjBwD,EAAMxD,0DAKtDmB,kBAAQ5B,EAAW,SAAAR,GACjBA,EAAKwE,OAASxE,EAAK7C,KAAKkJ,cACxBrG,EAAKc,OAAOsB,QAAQ,SAAAqC,GAAK,OAAIA,EAAMD,OAASC,EAAMtH,KAAKkJ,mDAyClD,IAAA2D,EAC+EpG,KAAKmC,MAAnF1B,EADD2F,EACC3F,SAAU/D,EADX0J,EACW1J,aAAcC,EADzByJ,EACyBzJ,WAAYgH,EADrCyC,EACqCzC,YAAa9G,EADlDuJ,EACkDvJ,YAAayC,EAD/D8G,EAC+D9G,YAChE+G,EAAS1J,EAAa,UAAY,QACxC,OACEoB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,OACbH,EAAAC,EAAAC,cAACqI,EAAD,CACE1D,SAAU5C,KAAK7D,MAAMoK,aACrB7D,SAAU1C,KAAK0D,eAEjB3F,EAAAC,EAAAC,cAAA,OAAKC,UAAU,4BACbH,EAAAC,EAAAC,cAACuI,EAAA,EAAD,CAAOC,QAAQ,iBACb1I,EAAAC,EAAAC,cAACyI,EAAA,EAAD,CACEC,OAAO,QAAQC,KAAK,QAAQC,QAAQ,UACpCtN,KAAK,WAAWuN,aAAcrG,GAE9B1C,EAAAC,EAAAC,cAAC8I,EAAA,EAAD,CAAcF,QAAQ,UAAUzE,MAAM,OAAOV,QAAS1B,KAAKqE,gBAAiB,QAC5EtG,EAAAC,EAAAC,cAAC8I,EAAA,EAAD,CAAcF,QAAQ,UAAUzE,MAAM,QAAQV,QAAS1B,KAAKqE,gBAAiB,UAE/EtG,EAAAC,EAAAC,cAACyI,EAAA,EAAD,CACEC,OAAO,QAAQC,KAAK,QAAQC,QAAQ,UACpCtN,KAAK,eAAeuN,aAAcpK,GAElCqB,EAAAC,EAAAC,cAAC8I,EAAA,EAAD,CAAc3E,MAAM,UAAUV,QAAS1B,KAAKuE,mBAAoBzF,MAAO,CAAEC,YAAa,EAAGC,aAAc,IACpG,WAEHjB,EAAAC,EAAAC,cAAC8I,EAAA,EAAD,CAAc3E,MAAM,SAASV,QAAS1B,KAAKuE,oBAAqB,WAElExG,EAAAC,EAAAC,cAAC+I,EAAA,EAAD,CACEL,OAAO,QACPjF,QAAS1B,KAAK4D,iBACd9E,MAAO,CAAEC,YAAa,EAAGC,aAAc,GACvCiI,OAAQtK,GAEP0J,GAEHtI,EAAAC,EAAAC,cAAC+I,EAAA,EAAD,CACEL,OAAO,QACPjF,QAAS1B,KAAKkE,WACdpF,MAAO,CAAEC,YAAa,EAAGC,aAAc,GACvCiI,OAAQpK,GAEPA,EAAc,UAAY,SAE7BkB,EAAAC,EAAAC,cAAC+I,EAAA,EAAD,CACEL,OAAO,QACPjF,QAAS1B,KAAKiE,WACdnF,MAAO,CAAEC,YAAa,EAAGC,aAAc,GACvCiI,OAAQ3H,GAEP,UAIPvB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,2BACbH,EAAAC,EAAAC,cAACiJ,EAAD,CAEEtK,UAAWA,EACXP,OAAQ2D,KAAKmC,MAAM9F,OACnBC,iBAAiB,OACjBC,kBAAkB,OAClBkE,SAAUA,EACV/D,aAAcA,EACdC,WAAYA,EACZ6D,OAAQmD,EACR9G,YAAaA,EACbyC,YAAaA,cA/LHiC,uDCHxB,SAAS4F,EAAWhL,GAClB,OACE4B,EAAAC,EAAAC,cAAA,OACEC,UAAU,aACVY,MAAO,CAAEsI,QAASjL,EAAMoK,aAAe,EAAI,IAC3C7E,QAASvF,EAAMwF,aAEf5D,EAAAC,EAAAC,cAAA,OAAK2D,MAAM,6BAA6B3C,MAAM,KAAK4C,OAAO,KAAKC,QAAQ,mBACrE/D,EAAAC,EAAAC,cAAA,QAAM8D,KAAK,QAAQC,SAAS,UAAUC,EAAE,kXAiCjCoF,6MAzBblF,MAAQ,CACNoE,cAAc,KAGhBe,aAAe,WACbvH,EAAKwC,SAAS,CAAEgE,cAAexG,EAAKoC,MAAMoE,wFAGnC,IACCA,EAAiBvG,KAAKmC,MAAtBoE,aACR,OACExI,EAAAC,EAAAC,cAAA,OAAKC,UAAU,OACbH,EAAAC,EAAAC,cAAA,UAAQC,UAAU,cAChBH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,aAAd,6BACAH,EAAAC,EAAAC,cAACkJ,EAAD,CACEZ,aAAcA,EACd5E,YAAa3B,KAAKsH,gBAGtBvJ,EAAAC,EAAAC,cAACsJ,EAAD,CAAWhB,aAAcA,YApBfhF,aCjBZiG,EAAcC,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,2DA6BN,SAASC,EAAgBC,GACvBC,UAAUC,cACPC,SAASH,GACTvC,KAAK,SAAA2C,GACJA,EAAaC,cAAgB,WAC3B,IAAMC,EAAmBF,EAAaG,WACtCD,EAAiBE,cAAgB,WACA,cAA3BF,EAAiBlG,QACf6F,UAAUC,cAAcO,WAK1BhJ,QAAQyG,IAAI,6CAKZzG,QAAQyG,IAAI,2CAMrBwC,MAAM,SAAAhJ,GACLD,QAAQC,MAAM,4CAA6CA,KChEjEiJ,IAASC,OAAO5K,EAAAC,EAAAC,cAAC2K,EAAD,MAASC,SAASC,eAAe,SDclC,WACb,GAA6C,kBAAmBd,UAAW,CAGzE,GADkB,IAAIe,IAAIC,aAAwBtB,OAAOC,UAC3CsB,SAAWvB,OAAOC,SAASsB,OAIvC,OAGFvB,OAAOwB,iBAAiB,OAAQ,WAC9B,IAAMnB,EAAK,GAAAjK,OAAMkL,aAAN,sBAEPxB,EAwCV,SAAiCO,GAE/BoB,MAAMpB,GACHvC,KAAK,SAAA4D,GAGkB,MAApBA,EAASC,SACuD,IAAhED,EAAS9D,QAAQD,IAAI,gBAAgBtJ,QAAQ,cAG7CiM,UAAUC,cAAcqB,MAAM9D,KAAK,SAAA2C,GACjCA,EAAaoB,aAAa/D,KAAK,WAC7BkC,OAAOC,SAAS6B,aAKpB1B,EAAgBC,KAGnBU,MAAM,WACLjJ,QAAQyG,IACN,mEA5DAwD,CAAwB1B,GAGxBD,EAAgBC,MChCxB2B","file":"static/js/main.18d43cd8.chunk.js","sourcesContent":["import numeral from \"numeral\";\nimport { map, ceil, each } from \"lodash\";\n\nlet Helper = {\n  shortNum(n) {\n    return numeral(n).format(\"0.[00]a\");\n  },\n\n  qty(n) {\n    return numeral(n).format(\"0,0\");\n  },\n\n  price(n) {\n    if (n > 1000000) {\n      return numeral(n).format(\"0,0.000a\");\n    }\n    return numeral(n).format(\"0,0.0a\");\n  },\n\n  reactionProfit(profit, isUnref, refinery_type) {\n    if (refinery_type === 'athanor') {\n      return profit * (isUnref ? 60.0/225.0 : 60.0/113.0) // athanor - (360||180)*0.8*0.78\n    } else {\n      return profit * (isUnref ? 60.0/169.0 : 60.0/85.0) // tatara - (360||180)*0.8*0.78*0.75\n    }\n  },\n\n  escapeRegexCharacters(str) {\n    return str.replace(/[.*+?^${}()|[\\]\\\\]/g, \"\\\\$&\");\n  },\n\n  const: {\n    debounceTimeout: 350,\n    debounceScrollTimeout: 750,\n    cycles: [\n      {\n        val: -1,\n        name: \"1 cycle\"\n      },\n      {\n        val: 1,\n        name: \"1 day\"\n      },\n      {\n        val: 14,\n        name: \"14 days\"\n      },\n      {\n        val: 30,\n        name: \"1 month\"\n      }\n    ]\n  },\n\n  /**\n   * @return {boolean}\n   */\n  AutocompleteMinCharacters(str) {\n    return str.length >= 2;\n  },\n\n  toHHMMSS(sec) {\n    let secNum = parseInt(sec, 10);\n\n    let days = Math.floor(secNum / 86400);\n    let stringDay = \"\";\n\n    if (days > 1) {\n      secNum -= days * 86400;\n    }\n\n    let hours = Math.floor(secNum / 3600);\n    let minutes = Math.floor((secNum - hours * 3600) / 60);\n    let seconds = secNum - hours * 3600 - minutes * 60;\n\n    if (days > 1) {\n      stringDay = days + \"d \";\n    }\n\n    if (hours < 10) {\n      hours = \"0\" + hours;\n    }\n    if (minutes < 10) {\n      minutes = \"0\" + minutes;\n    }\n    if (seconds < 10) {\n      seconds = \"0\" + seconds;\n    }\n    return stringDay + hours + \":\" + minutes + \":\" + seconds;\n  },\n  uuid(len = 2) {\n    let text = \"\";\n    let possible = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\n    for (let i = 0; i < len; i++)\n      text += possible.charAt(Math.floor(Math.random() * possible.length));\n    return text;\n  },\n\n  manufactureQty(components, me = 0, fme = 1, run = 1, portion = 1) {\n    map(components, v => {\n      v[\"qty\"] = v.orig_qty === 1\n        ? run\n        : ceil(ceil(v.orig_qty * ((100 - me) / 100) * fme * run) / portion);\n    });\n    return components;\n  },\n\n  getKeys(arr, keyInArray, getAttribute) {\n    let result = [];\n    each(arr, v => {\n      each(v[keyInArray], attr => {\n        if (result.indexOf(attr[getAttribute]) === -1) {\n          result.push(attr[getAttribute]);\n        }\n      });\n    });\n    return result.sort();\n  }\n};\n\nexport default Helper;\n","import React from \"react\"\nimport { map, find, startsWith } from \"lodash\"\nimport Helper from \"./helper\"\n\nimport refinedOutputs from './refinedOutputs.json'\nimport './OneItem.css'\n\nconst ReprocessRatio = 0.52\nconst ScrapmetalSkill = 1.1\n\n\nconst getReaction = (name, list) => find(list, { name: name })\n\n\nconst OneItem = (props) => {\n  const {\n    item,\n    prices,\n    price_input_type,\n    price_output_type,\n    getProfit,\n    getProfitFunc,\n    isUnref,\n    refineryType,\n    efficiency,\n    reactions,\n    hundredRuns,\n  } = props\n  const price_input = prices[price_input_type]\n  const price_output = prices[price_output_type]\n  const eff = efficiency ? 0.978 : 1\n\n  const inputItems = map(item.inputs, (v, i) => {\n    const effQuantity = Math.ceil(v.quantity * eff)\n    const amount = effQuantity * price_input[v.id]\n\n    // components profit\n    const reaction = getReaction(v.name, reactions)\n    if (reaction) {\n      var isUnref = startsWith(v.name, 'Unref')\n      var profit = getProfitFunc(isUnref)(reaction, props)\n      var outputValue = Helper.price(profit)\n      // var percColor = profit >= 0 ? \"txt-yellow\" : \"profit-minus\"\n      // Lifeblood Athanor\n      var reactionProfit = Helper.reactionProfit(profit / (hundredRuns ? 100 : 1), isUnref, refineryType)\n      var componentProfit = Helper.price(reactionProfit)\n    }\n\n    // const title = `${v.name} ${effQuantity} x ${Helper.price(price_input[v.id])} isk`\n    const title = `${v.name} x ${effQuantity}`\n\n    return (\n      <div className=\"row\" key={v.name}>\n        <div className=\"col-md-12 col-sm-12 col-xs-12 flex-between\">\n          <span className=\"item-title-cell\">\n            <img className=\"img16 pen\" alt={v.name} src={`https://image.eveonline.com/Type/${v.id}_32.png`} />\n            <span>{title}</span>\n          </span>\n          <span className=\"item-cell\">{outputValue}</span>\n          <span className=\"item-cell\">{componentProfit}</span>\n          <span className=\"item-cell\">{Helper.price(amount)}</span>\n        </div>\n      </div>\n    )\n  })\n\n  let outputCost = 0\n  if (isUnref) {\n    const outputs = refinedOutputs[item.id]\n    outputs.forEach(item => {\n      const outputAmount = Math.trunc(item.quantity * ReprocessRatio * ScrapmetalSkill)\n      outputCost += (prices[price_output_type][item.typeId] * outputAmount)\n    })\n  } else {\n    outputCost = price_output[item.id] * item.quantity\n  }\n\n  const profit = getProfit(item, props)\n  const outputValue = Helper.price(profit)\n  const percColor = profit >= 0 ? \"txt-yellow\" : \"profit-minus\"\n  // Lifeblood Athanor\n  const reactionProfit = Helper.reactionProfit(profit / (hundredRuns ? 100 : 1), isUnref, refineryType)\n  const outputValueLifeblood = Helper.price(reactionProfit)\n\n  return (\n    <div className=\"row\" style={{ paddingLeft: 0, paddingRight: 0 }}>\n      <div className=\"col-md-12\" style={{ paddingLeft: 0, paddingRight: 0 }}>\n        <table className=\"inside\">\n          <thead>\n          <tr>\n            <th>\n              <div className=\"item-output\">\n                <div className=\"header-title\">\n                  <div style={{ width: 'auto' }}>\n                    <img\n                      className=\"img16 pen\"\n                      alt={item.name}\n                      src={`https://image.eveonline.com/Type/${item.id}_32.png`}\n                    />\n                  </div>\n                  <div style={{ width: '100%', textAlign: 'left' }}>\n                    {`${item.name} x ${item.quantity}`}\n                  </div>\n                </div>\n                <div className={percColor}>\n                  {outputValue}\n                </div>\n                <div className={percColor}>\n                  {outputValueLifeblood}\n                </div>\n                <div className=\"txt-normal\" style={{ marginRight: 6 }}>\n                  {Helper.price(outputCost)}\n                </div>\n              </div>\n            </th>\n          </tr>\n          </thead>\n          <tbody>\n          <tr>\n            <td colSpan=\"2\" className=\"inside-table\">\n              {inputItems}\n            </td>\n          </tr>\n          </tbody>\n        </table>\n      </div>\n    </div>\n  )\n}\n\nexport default OneItem\n","import React from \"react\";\nimport Helper from \"./helper\";\n\nimport './ShortList.css'\n\n\nconst ShortList = (props) => {\n  const { item, getProfit, isUnref, refineryType, hundredRuns } = props\n  const profit = getProfit(item, props)\n  const outputValue = Helper.price(profit)\n  const percColor = profit >= 0 ? \"txt-yellow b\" : \"profit-minus\"\n\n  const reactionProfit = Helper.reactionProfit(profit / (hundredRuns ? 100 : 1), isUnref, refineryType)\n  const outputValueLifeblood = Helper.price(reactionProfit)\n\n  // const title = `${item.id}: ${item.name}`\n  const title = `${item.name}`\n\n  return (\n    <div key={item.id} className=\"row\">\n      <div className=\"col-md-12 col-sm-12 col-xs-12 flex-between item-output-short\">\n        <div>\n          <img\n            className=\"img16 pen\"\n            alt={title}\n            src={`https://image.eveonline.com/Type/${item.id}_32.png`}\n          />\n          {title}\n        </div>\n        <div className={percColor}>\n          {outputValue}\n        </div>\n        <div className={percColor}>\n          {outputValueLifeblood}\n        </div>\n      </div>\n    </div>\n  )\n};\n\nexport default ShortList\n","import React from 'react'\nimport { map, startsWith } from 'lodash'\nimport Helper from \"./helper\"\nimport OneItem from './OneItem'\nimport refinedOutputs from './refinedOutputs.json'\n\n// components\nimport ShortList from './ShortList'\n\nconst ReprocessRatio = 0.50\nconst ScrapmetalSkill = 1.1\nconst ApproximateFuelCost = 90000\n\nconst getProfit = (item, props) => {\n  const { price_input_type, price_output_type, prices, efficiency, includeFuel, hundredRuns } = props\n  let inputAmount = 0\n  if (!item.inputs) {\n    // debugger\n    console.error('error item:', item)\n  }\n  const eff = efficiency ? 0.978 : 1\n  const runs = hundredRuns ? 100 : 1\n  item.inputs.forEach((v, i) => {\n    inputAmount += Math.ceil((v.quantity * prices[price_input_type][v.id] * 100 * eff) / 100)\n  })\n  let amount = item.quantity * prices[price_output_type][item.id]\n  const fuelCost = includeFuel ? ApproximateFuelCost : 0\n  const profit = amount - inputAmount\n  return profit - (fuelCost * runs)\n}\n\nconst getUnrefProfit = (item, props) => {\n  const { price_input_type, price_output_type, prices, efficiency, includeFuel, hundredRuns } = props\n  let inputAmount = 0\n  const eff = efficiency ? 0.978 : 1\n  const runs = hundredRuns ? 100 : 1\n  item.inputs.forEach(v => {\n    inputAmount += Math.ceil((v.quantity * prices[price_input_type][v.id] * 100 * eff) / 100)\n  })\n  let outputAmount = 0\n  const outputs = refinedOutputs[item.id]\n  outputs.forEach(refOutputItem => {\n    const amount = Math.trunc(runs * refOutputItem.quantity * ReprocessRatio * ScrapmetalSkill)\n    outputAmount += prices[price_output_type][refOutputItem.typeId] * amount\n  })\n  const fuelCost = includeFuel ? ApproximateFuelCost : 0\n  const profit = outputAmount - inputAmount\n  return profit - (fuelCost * runs)\n}\n\nconst sortCalcFunc = (typeId, reactions, props) => {\n  const item = reactions[typeId]\n  const isUnref = startsWith(item.name, 'Unref')\n  const profit = isUnref ? getUnrefProfit(item, props) : getProfit(item, props)\n  return Helper.reactionProfit(profit, isUnref, props.refinery_type)\n}\n\n\nclass SheetItems extends React.Component {\n\n  sortReactions(reactions) {\n    return Object.keys(reactions).sort((a, b) => {\n      const diffA = sortCalcFunc(a, reactions, this.props)\n      const diffB = sortCalcFunc(b, reactions, this.props)\n      // console.log(diffB - diffA, diffB, diffA)\n      // return diffB - diffA\n      if (diffB > diffA) {\n        return 1\n      } else if (diffB < diffA) {\n        return -1\n      }\n      return 0\n    })\n  }\n\n  getReactionsList(sortedReactionsIds, reactions) {\n    const {\n      filter, price_input_type, price_output_type,\n      prices, listType, refineryType, efficiency,\n      hundredRuns, includeFuel,\n    } = this.props\n    if (reactions.length === 0) {\n      return null\n    }\n\n    const resultList = map(sortedReactionsIds, typeId => {\n      const item = reactions[typeId]\n\n      if (filter) {\n        const matchedOutput = item.lcName.indexOf(filter) >= 0\n        if (listType === 'short' && !matchedOutput) {\n          return null\n        }\n        const matchedInputs = item.inputs.find(input => input.lcName.indexOf(filter) >= 0)\n        if (!matchedInputs && !matchedOutput) {\n          return null\n        }\n      }\n\n      const isUnref = startsWith(item.name, 'Unref')\n\n      // Without unref\n      // if (!isUnref) return null\n\n      if (listType === 'full')\n        return (\n          <OneItem\n            key={typeId}\n            item={item}\n            refineryType={refineryType}\n            isUnref={isUnref}\n            getProfit={isUnref ? getUnrefProfit : getProfit}\n            getProfitFunc={isUnref => isUnref ? getUnrefProfit : getProfit}\n            prices={prices}\n            reactions={reactions}\n            price_input_type={price_input_type}\n            price_output_type={price_output_type}\n            efficiency={efficiency}\n            hundredRuns={hundredRuns}\n            includeFuel={includeFuel}\n          />\n        )\n      else\n        return (\n          <ShortList\n            key={typeId}\n            item={item}\n            refineryType={refineryType}\n            isUnref={isUnref}\n            getProfit={isUnref ? getUnrefProfit : getProfit}\n            prices={prices}\n            price_input_type={price_input_type}\n            price_output_type={price_output_type}\n            efficiency={efficiency}\n            hundredRuns={hundredRuns}\n            includeFuel={includeFuel}\n          />\n        )\n    })\n\n\n    // console.log('reactions:', reactions)\n    const sheetTitle = this.renderHeader(listType)\n\n    return (\n      <div className=\"row\">\n        <div className=\"col-md-12\">\n          <table className=\"inside\">\n            <thead>\n            <tr>\n              <th>{sheetTitle}</th>\n            </tr>\n            </thead>\n            <tbody>\n            <tr>\n              <td colSpan=\"2\" className=\"inside-table\">\n                {resultList}\n              </td>\n            </tr>\n            </tbody>\n          </table>\n        </div>\n      </div>\n    )\n  }\n\n  renderHeader(listType) {\n    if (listType === 'full') {\n      return (\n        <div className=\"item-output-short header\">\n          <div>Output & Inputs</div>\n          <div>Profit per Cycle</div>\n          <div>Profit per Hour</div>\n          <div>Output Cost</div>\n        </div>\n      )\n    }\n    return (\n      <div className=\"col-md-12 col-sm-12 col-xs-12 flex-between item-output-short header\">\n        <div>Output</div>\n        <div>Profit per Cycle</div>\n        <div>Profit per Hour</div>\n      </div>\n    )\n  }\n\n  render() {\n    const { reactions, prices } = this.props\n    if (!prices) return null\n    const sortedReactions = this.sortReactions(reactions)\n    return this.getReactionsList(sortedReactions, reactions)\n  }\n}\n\n// export default connect(state => state.moonSheetReducer, {})(SheetItems)\nexport default SheetItems\n","import React from \"react\"\nimport './FilterPanel.css'\n\n\nconst ClearIcon = props => {\n  const className = props.isVisible\n    ? \"clearIcon\"\n    : \"clearIcon hidden\"\n  return (\n    <svg\n      className={className} onClick={props.handleClick}\n      xmlns=\"http://www.w3.org/2000/svg\" width=\"30\" height=\"30\" viewBox=\"878 982 30 30\"\n    >\n      <path fill=\"#D8D8D8\" fillRule=\"evenodd\" d=\"M893 1012c8.284 0 15-6.716 15-15 0-8.284-6.716-15-15-15-8.284 0-15 6.716-15 15 0 8.284 6.716 15 15 15zm5.543-18.328a1.573 1.573 0 0 0-.005-2.21 1.559 1.559 0 0 0-2.21-.005L893 994.785l-3.328-3.328a1.573 1.573 0 0 0-2.21.005 1.559 1.559 0 0 0-.005 2.21l3.328 3.328-3.328 3.328a1.573 1.573 0 0 0 .005 2.21 1.559 1.559 0 0 0 2.21.005l3.328-3.328 3.328 3.328a1.573 1.573 0 0 0 2.21-.005 1.559 1.559 0 0 0 .005-2.21L895.215 997l3.328-3.328z\"/>\n    </svg>\n  )\n}\n\n\nexport default class FilterPanel extends React.Component {\n  state = {\n    value: '',\n  }\n\n  makeFilter = e => {\n    this.setState(\n      { value: e.target.value.toLowerCase() },\n      () => this.props.onFilter(this.state.value),\n    )\n  }\n\n  clearFilter = () => {\n    this.setState({ value: '' })\n    this.props.onFilter()\n  }\n\n  render() {\n    const { isOpened } = this.props\n    if (!isOpened) return null\n\n    const { value } = this.state\n\n    return (\n      <div className=\"row\">\n        <div className=\"col-md-12\">\n          <div className=\"panel-content\">\n            <input\n              placeholder=\"Filter materials\"\n              onChange={this.makeFilter}\n              className=\"input-search\"\n              style={{ fontSize: '1.5em' }}\n              value={value}\n            />\n            <ClearIcon isVisible={value} handleClick={this.clearFilter} />\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n","import axios from 'axios'\n\n// const baseUrl = 'http://api.eve-prod.xyz'\n// const esiUrl = 'https://esi.tech.ccp.is'\n// const crestUrl = 'https://crest-tq.eveonline.com'\n// const marketUrl = 'https://api.evemarketer.com/ec/marketstat/json?regionlimit=10000002&typeid=' // The Forge\nconst marketUrl = 'https://api.evemarketer.com/ec/marketstat/json?usesystem=30000142&typeid=' // Jita\n\nconst MOONMAT_ITEMS = [\n  16633,16634,16635,16636,16637,16638,16639,16640,16641,16642,16643,16644,16646,16647,16648,\n  16649,16650,16651,16652,16653,16654,16655,16656,16657,16658,16659,16660,16661,16662,16663,\n  16664,16665,16666,16667,16668,16669,16670,16671,16672,16673,16678,16679,16680,16681,16682,\n  16683,17317,17769,17959,17960,33336,33337,33359,33360,33361,33362\n]\nconst ITEMS = MOONMAT_ITEMS.join(',')\n\n\nexport const getMoonmatPrices = () => {\n  return axios.get(\n    marketUrl + ITEMS,\n    { headers: { 'Access-Control-Allow-Origin': '*' } },\n  )\n}\n","import React, { Component } from 'react'\nimport { forEach } from 'lodash'\nimport { Panel, Button, ToggleButton, ToggleButtonGroup } from 'react-bootstrap'\n// import CompositeSheet from './CompositeSheet'\nimport SheetItems from './moonsheet/SheetItems'\nimport FilterPanel from './moonsheet/FilterPanel'\nimport { getMoonmatPrices } from '../lib/api'\n\nconst reactions = require('./reactions.json')\nconst stubPrices = require('./stub-prices.json')\n\nconst CACHE_TIME = 3 * 60 * 60 * 1000 // 3 hours\n// const CACHE_TIME = 10 * 24 * 60 * 60 * 1000 // 10 days\n\n\nclass MoonSheet extends Component {\n\n  constructor() {\n    super()\n\n    let priceStorage = null\n    if (!this.isPricesNeedUpdate()) {\n      priceStorage = JSON.parse(localStorage.getItem('prices'))\n    }\n\n    this.state = {\n      prices: priceStorage || stubPrices,\n      listType: localStorage.getItem('listType') || 'full',\n      refineryType: localStorage.getItem('refineryType') || 'athanor',\n      efficiency: localStorage.getItem('efficiency') === 'false' ? false : true,\n      hundredRuns: JSON.parse(localStorage.getItem('hundredRuns')) || false,\n      includeFuel: JSON.parse(localStorage.getItem('includeFuel')) || false,\n    }\n    if (this.state.hundredRuns) {\n      this.makeHundredRuns()\n    }\n  }\n\n  componentDidMount() {\n    this.makeLowerCaseNames()\n    if (!this.state.prices || this.isPricesNeedUpdate()) {\n      this.updatePrices()\n    }\n  }\n\n  isPricesNeedUpdate() {\n    const timeStr = localStorage.getItem('pricesTime')\n    if (timeStr) {\n      const time = (new Date(timeStr)).getTime()\n      const now = (new Date()).getTime()\n      if (time && (now - time < CACHE_TIME)) {\n        return false\n      }\n    }\n    return true\n  }\n\n  updatePrices() {\n    getMoonmatPrices().then(({ data }) => {\n      const buy = {}\n      const sell = {}\n      data.forEach(item => {\n        const typeId = item.buy.forQuery.types[0]\n        // buy[typeId] = item.buy.max\n        // sell[typeId] = item.sell.min\n        buy[typeId] = item.buy.fivePercent\n        sell[typeId] = item.sell.fivePercent\n        if (!item.buy.max) {\n          console.log('zero buy:', item)\n        }\n        if (!item.sell.min) {\n          console.log('zero sell:', item)\n        }\n      })\n\n      const prices = { sell, buy }\n      this.setState({ prices })\n      localStorage.setItem('prices', JSON.stringify({ ...prices }))\n      localStorage.setItem('pricesTime', new Date())\n    })\n  }\n\n  makeSingleRun() {\n    forEach(reactions, item => {\n      item.quantity = item.quantity / 100\n      item.inputs.forEach(input => input.quantity = input.quantity / 100)\n    })\n  }\n\n  makeHundredRuns() {\n    forEach(reactions, item => {\n      item.quantity = item.quantity * 100\n      item.inputs.forEach(input => input.quantity = input.quantity * 100)\n    })\n  }\n\n  makeLowerCaseNames() {\n    forEach(reactions, item => {\n      item.lcName = item.name.toLowerCase()\n      item.inputs.forEach(input => input.lcName = input.name.toLowerCase())\n    })\n  }\n\n  handleFilter = filterValue => {\n    this.setState({ filterValue })\n  }\n\n  toggleEfficiency = () => {\n    const { efficiency } = this.state\n    this.setState({ efficiency: !efficiency })\n    localStorage.setItem('efficiency', JSON.stringify(!efficiency))\n  }\n\n  toggleFuel = () => {\n    const { includeFuel } = this.state\n    this.setState({ includeFuel: !includeFuel })\n    localStorage.setItem('includeFuel', JSON.stringify(!includeFuel))\n  }\n\n  toggleRuns = () => {\n    const { hundredRuns } = this.state\n    this.setState({ hundredRuns: !hundredRuns })\n    localStorage.setItem('hundredRuns', JSON.stringify(!hundredRuns))\n    hundredRuns ? this.makeSingleRun() : this.makeHundredRuns()\n  }\n\n  toggleListType = event => {\n    const listType = event.target.value\n    if (listType) {\n      this.setState({ listType }, localStorage.setItem('listType', listType))\n    }\n  }\n\n  toggleRefineryType = event => {\n    const refineryType = event.target.value\n    if (refineryType) {\n      this.setState({ refineryType }, localStorage.setItem('refineryType', refineryType))\n    }\n  }\n\n  render() {\n    const { listType, refineryType, efficiency, filterValue, hundredRuns, includeFuel } = this.state\n    const effStr = efficiency ? '2.2% ME' : '0% ME'\n    return (\n      <div className='sheet-root'>\n        <div className='row'>\n          <FilterPanel\n            isOpened={this.props.filterOpened}\n            onFilter={this.handleFilter}\n          />\n          <div className='col-md-4 t-a_l col-first'>\n            <Panel bsClass=\"control-panel\">\n              <ToggleButtonGroup\n                bsSize='small' type='radio' bsStyle='primary'\n                name='listType' defaultValue={listType}\n              >\n                <ToggleButton bsStyle='primary' value='full' onClick={this.toggleListType}>{'Full'}</ToggleButton>\n                <ToggleButton bsStyle='primary' value='short' onClick={this.toggleListType}>{'Short'}</ToggleButton>\n              </ToggleButtonGroup>\n              <ToggleButtonGroup\n                bsSize='small' type='radio' bsStyle='primary'\n                name='refineryType' defaultValue={refineryType}\n              >\n                <ToggleButton value='athanor' onClick={this.toggleRefineryType} style={{ paddingLeft: 4, paddingRight: 4 }}>\n                  {'Athanor'}\n                </ToggleButton>\n                <ToggleButton value='tatara' onClick={this.toggleRefineryType}>{'Tatara'}</ToggleButton>\n              </ToggleButtonGroup>\n              <Button\n                bsSize='small'\n                onClick={this.toggleEfficiency}\n                style={{ paddingLeft: 4, paddingRight: 4 }}\n                active={efficiency}\n              >\n                {effStr}\n              </Button>\n              <Button\n                bsSize='small'\n                onClick={this.toggleRuns}\n                style={{ paddingLeft: 4, paddingRight: 4 }}\n                active={hundredRuns}\n              >\n                {hundredRuns ? '100runs' : '1 run'}\n              </Button>\n              <Button\n                bsSize='small'\n                onClick={this.toggleFuel}\n                style={{ paddingLeft: 4, paddingRight: 4 }}\n                active={includeFuel}\n              >\n                {'Fuel'}\n              </Button>\n            </Panel>\n          </div>\n          <div className='col-md-8 t-a_l col-last'>\n            <SheetItems\n            // <CompositeSheet\n              reactions={reactions}\n              prices={this.state.prices}\n              price_input_type='sell'\n              price_output_type='sell'\n              listType={listType}\n              refineryType={refineryType}\n              efficiency={efficiency}\n              filter={filterValue}\n              hundredRuns={hundredRuns}\n              includeFuel={includeFuel}\n            />\n          </div>\n        </div>\n      </div>\n    )\n  }\n}\n\nexport default MoonSheet\n","import React, { Component } from 'react'\nimport MoonSheet from './components/MoonSheet'\n\nimport \"./styles/reset.css\"\nimport \"./styles/bootstrap.css\"\nimport 'bootstrap/dist/css/bootstrap.min.css'\nimport 'bootstrap/dist/css/bootstrap-theme.min.css'\nimport \"./styles/main.css\"\n\nimport './App.css'\n\n\nfunction SearchIcon(props) {\n  return (\n    <div\n      className=\"searchIcon\"\n      style={{ opacity: props.filterOpened ? 1 : 0.3 }}\n      onClick={props.handleClick}\n    >\n      <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"23\" height=\"23\" viewBox=\"1225 1246 23 23\">\n        <path fill=\"white\" fillRule=\"evenodd\" d=\"M1242.388 1265.302a10.735 10.735 0 0 1-6.607 2.26c-5.954 0-10.781-4.826-10.781-10.78 0-5.955 4.827-10.782 10.781-10.782 5.955 0 10.782 4.827 10.782 10.781 0 2.49-.844 4.782-2.261 6.607.145.068.282.163.402.283l2.875 2.875a1.438 1.438 0 0 1-2.033 2.033l-2.875-2.875a1.435 1.435 0 0 1-.283-.402zm-6.607-.614a7.906 7.906 0 1 0 0-15.813 7.906 7.906 0 0 0 0 15.813z\"/>\n      </svg>\n    </div>\n  )\n}\n\n\nclass App extends Component {\n  state = {\n    filterOpened: true,\n  }\n\n  toggleFilter = () => {\n    this.setState({ filterOpened: !this.state.filterOpened })\n  }\n\n  render() {\n    const { filterOpened } = this.state\n    return (\n      <div className=\"App\">\n        <header className=\"App-header\">\n          <h1 className=\"App-title\">Composite Reactions Chart</h1>\n          <SearchIcon\n            filterOpened={filterOpened}\n            handleClick={this.toggleFilter}\n          />\n        </header>\n        <MoonSheet filterOpened={filterOpened} />\n      </div>\n    )\n  }\n}\n\nexport default App\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport default function register() {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl);\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.');\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport registerServiceWorker from './registerServiceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\nregisterServiceWorker();\n"],"sourceRoot":""}